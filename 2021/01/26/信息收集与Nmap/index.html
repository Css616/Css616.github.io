<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>信息收集与Nmap | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="渗透测试思路 1.信息收集（前提） 2.漏洞挖掘：AWVS  payload验证 3.漏洞利用：写payload或者利用工具（sqmap、xsser、c刀） 4.输出渗透测试报告 渗透测试有两种方法 1.白盒（代码审计）（通过代码判断是否存在隐患）（在内网情况下） 2.黑盒（模拟黑客去渗透测试）（在外网情况下如何攻击到服务器里面） 渗透测试之信息收集1.基本信息 1）域名信息（示例：goktech">
<meta property="og:type" content="article">
<meta property="og:title" content="信息收集与Nmap">
<meta property="og:url" content="http://example.com/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="渗透测试思路 1.信息收集（前提） 2.漏洞挖掘：AWVS  payload验证 3.漏洞利用：写payload或者利用工具（sqmap、xsser、c刀） 4.输出渗透测试报告 渗透测试有两种方法 1.白盒（代码审计）（通过代码判断是否存在隐患）（在内网情况下） 2.黑盒（模拟黑客去渗透测试）（在外网情况下如何攻击到服务器里面） 渗透测试之信息收集1.基本信息 1）域名信息（示例：goktech">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/1.PNG">
<meta property="og:image" content="http://example.com/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/2.PNG">
<meta property="og:image" content="http://example.com/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/3.PNG">
<meta property="og:image" content="http://example.com/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/4.PNG">
<meta property="og:image" content="http://example.com/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/5.PNG">
<meta property="article:published_time" content="2021-01-25T16:34:38.000Z">
<meta property="article:modified_time" content="2021-02-04T08:48:20.193Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/1.PNG">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-信息收集与Nmap" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/" class="article-date">
  <time datetime="2021-01-25T16:34:38.000Z" itemprop="datePublished">2021-01-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      信息收集与Nmap
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>渗透测试思路</strong></p>
<p>1.信息收集（前提）</p>
<p>2.漏洞挖掘：AWVS  payload验证</p>
<p>3.漏洞利用：写payload或者利用工具（sqmap、xsser、c刀）</p>
<p>4.输出渗透测试报告</p>
<p><strong>渗透测试有两种方法</strong></p>
<p>1.白盒（代码审计）（通过代码判断是否存在隐患）（在内网情况下）</p>
<p>2.黑盒（模拟黑客去渗透测试）（在外网情况下如何攻击到服务器里面）</p>
<h1 id="渗透测试之信息收集"><a href="#渗透测试之信息收集" class="headerlink" title="渗透测试之信息收集"></a>渗透测试之信息收集</h1><p><strong>1.基本信息</strong></p>
<p>1）域名信息（示例：goktech.cn）–站长之家–<a target="_blank" rel="noopener" href="http://whois.chinaz.com/">http://whois.chinaz.com/</a></p>
<p>2）子域名(示例：bbs.goktech.cn)                    –<a target="_blank" rel="noopener" href="https://phpinfo.me/domain/">https://phpinfo.me/domain/</a> (在线子域名查询)</p>
<p>​                                                                               –Layer子域名挖掘机4.2 纪念版</p>
<p>3）ip地址                                           –站长之家–<a target="_blank" rel="noopener" href="http://ip.tool.chinaz.com/">http://ip.tool.chinaz.com/</a></p>
<p>4）同ip的其他网站（旁站）信息    –站长之家–<a target="_blank" rel="noopener" href="http://stool.chinaz.com/same">http://stool.chinaz.com/same</a></p>
<p>​                                                                              –<a target="_blank" rel="noopener" href="https://www.webscan.cc/">https://www.webscan.cc/</a></p>
<p>5）同网段的其他服务器（c段）信息 c段常用在护网或攻防中 </p>
<p>​                                                                               –<a target="_blank" rel="noopener" href="https://www.webscan.cc/">https://www.webscan.cc/</a></p>
<p>例：宿舍几台计算机所处的环境就是同网段，是一个小型的g网</p>
<p>6）端口信息：80（80端口对应http协议）</p>
<p>​                        443（https协议）</p>
<p>​                        445（445端口对应共享文件夹） –Nmap</p>
<p>7）服务（web服务即网页服务），服务版本（version）     –Nmap</p>
<p>8）信息泄露（密码收集）                                    –<a target="_blank" rel="noopener" href="https://github.com/">https://github.com/</a></p>
<p>9）网站目录                                                           –御剑</p>
<p>10）业务信息                                                         –搜索引擎，如：谷歌、百度</p>
<p>11）备案号                                                             –<a target="_blank" rel="noopener" href="http://icp.chinaz.com/">http://icp.chinaz.com/</a></p>
<p>12）快速切换搜索引擎获得搜索结果                   –听潮社区URL采集工具2.3</p>
<p>注：</p>
<p>旁站的利用：旁站指的是同一服务器上的其他网站，很多时候，有些网站可能不容易入侵。那么，可以查看该网站所在的服务器上是否还有其他网站。如果有其他网站的话，可以先拿下其他网站，然后再拿到服务器的权限，最后就自然可以拿下该网站。</p>
<p>故不管攻击哪一个网站，都是同一台服务器。因为同ip意味搭建在同一台服务器上。</p>
<p>报错信息的利用：也许会涉及敏感信息。因为不同的中间件有不同的漏洞</p>
<p>端口的利用：通过服务器端口是否开放判断有无提供对应的服务。如开放80端口便是提供一个网页的服务。故也可能存在漏洞。</p>
<p>但是端口可以被修改。如可以将http对应的端口改为8080端口。即默认是80，可以人为修改。故80端口不一定是http。所以要收集服务。</p>
<p>备案号的利用：利用备案号反向去查目标的所有合法网站。</p>
<p><strong>2.os版本</strong></p>
<p>​                –Nmap工具（kali要有ip地址，并且目标服务）</p>
<p>操作系统（operation system，简称OS），包含windows server、Linux、mac</p>
<p><strong>3.web中间件</strong>（web程序，用来提供网页服务）</p>
<p>类型、版本：iis、apache、nginx、weblogic</p>
<p><strong>4.数据库</strong></p>
<p>类型、版本：mysql、mssql、oracle、access</p>
<p><strong>5.后端的脚本类型</strong></p>
<p>php、jsp、asp、aspx</p>
<h1 id="kali-linux下Nmap的使用"><a href="#kali-linux下Nmap的使用" class="headerlink" title="kali linux下Nmap的使用"></a>kali linux下Nmap的使用</h1><p>打开终端</p>
<p>首先看下自己是否有IP地址。因为没有IP地址是无法用namp工具的。输入ifconfig，得到前一个inet行。</p>
<p>如果获取不到（没有地址的话）</p>
<p>则输入dhclient 重新获取IP地址</p>
<p>先有kali的IP地址</p>
<p>并且可以和自己的目标服务器网络可达（可以ping对方）</p>
<p>不排除有些服务器禁ping</p>
<p><strong>命令合集：</strong></p>
<p>基本命令格式</p>
<p>nmap +参数 +ip/网段/域名（主机名）如baidu.com</p>
<p>其中参数可以结合在一起使用</p>
<p>1.判断主机存活</p>
<p>nmap -sn +域名</p>
<p>​                  +ip地址</p>
<p>​                   +网段+/+子网掩码（判断在网段中哪些主机是存活）</p>
<p>-sn效果同-sP（s代表扫描 P意味着用ping的方式）</p>
<p>2.查看操作系统版本os details或version、端口port</p>
<p>nmap -O +目标ip地址（-O这个是大写英文O）此命令默认用-sS方式扫描即等同于</p>
<p>nmap -sS -O +目标ip地址</p>
<p>3.查看更多的参数</p>
<p>nmap –help同</p>
<p>nmap -h</p>
<p>扫描方式：</p>
<p><img src="/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/1.PNG" alt="1"></p>
<p>注：默认用-sS方式扫描，即没有第三次握手这个过程</p>
<p>​       53端口是基于udp协议，而80端口基于tcp协议</p>
<p>扫描指定的端口：</p>
<img src="/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/2.PNG" alt="2" style="zoom: 50%;">

<p>如：nmap -p 80,443 +ip地址    即-p +端口号</p>
<p>​        -sV服务版本</p>
<p>​        -A类似于-sV和-O组合（All）</p>
<p>​        输出时,也可以用导出符 &gt;</p>
<p> 应用：</p>
<p><img src="/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/3.PNG" alt="3"></p>
<p>注：在linux中cat是用于查看文件的命令</p>
<p>eg：密码收集</p>
<p><img src="/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/4.PNG" alt="4"></p>
<p> 若收索出哈希加密，可以通过<a target="_blank" rel="noopener" href="https://www.cmd5.com/%E8%A7%A3%E5%AF%86">https://www.cmd5.com/解密</a></p>
<p>eg：</p>
<p><img src="/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/5.PNG" alt="5"></p>
<p>注：用安全工具时，有时候需要将windows 安全中心中“病毒和威胁防护”关闭</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/" data-id="ckkqmbr59000024trggan4ufy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/01/30/%E6%B8%97%E9%80%8F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%B0%8F%E8%A1%A5%E5%85%85/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          渗透基础知识小补充
        
      </div>
    </a>
  
  
    <a href="/2020/11/10/C%E8%AF%AD%E8%A8%80%E7%9A%84%E6%B3%A8%E6%84%8F%E7%82%B9%E4%BB%AC/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">C语言的注意点们</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/02/03/hexo%E4%B8%8A%E4%BC%A0%E5%88%B0github%E4%B8%8Emarkdown%E8%AF%AD%E6%B3%95/">hexo上传到github与markdown语法</a>
          </li>
        
          <li>
            <a href="/2021/01/30/%E6%B8%97%E9%80%8F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E5%B0%8F%E8%A1%A5%E5%85%85/">渗透基础知识小补充</a>
          </li>
        
          <li>
            <a href="/2021/01/26/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E4%B8%8ENmap/">信息收集与Nmap</a>
          </li>
        
          <li>
            <a href="/2020/11/10/C%E8%AF%AD%E8%A8%80%E7%9A%84%E6%B3%A8%E6%84%8F%E7%82%B9%E4%BB%AC/">C语言的注意点们</a>
          </li>
        
          <li>
            <a href="/2020/11/02/HTML/">HTML</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>